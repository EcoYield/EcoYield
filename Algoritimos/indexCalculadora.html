<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora Financeira</title>
    <link rel="stylesheet" href="styleCalculadora.css">
</head>

<body>
    <main>
        <aside>
            <div class="conteiner">
                <h1 class="titulo">Simulador <span style="color: #d7a91f;">Eco</span>Yield</h1>

                <p>Calcule a sua taxa de absenteismo e nos contrate para melhorar o desempenho da sua empresa</p>
                <input id="input_nomeEmpresa" placeholder="Nome da empresa">
                <br>
                <input id="input_mes" placeholder="Mês escolhido">
                <br>
                <input id="input_qtdFuncionarios" placeholder="Quantidade total de funcionarios">
                <br>
                <input id="input_qtdHorasPerdidas" placeholder="Quantidade de horas totais perdidas no mês"> 
                <br>
                <input id="input_qtdHorasDiariasTrabalhadas" placeholder="Quantidade de horas diarias de trabalho">
                <br>
                <input id="input_qtdDiasMesTrabalhados" placeholder="Quantidade de dias trabalhados no mês">
                <br>
                <button onclick="calcular()">Calcular taxa</button>
            </div>
        </aside>
        <article>
            <p style="color: greenyellow;"></p>
            <div id="conteinerResultado">
            </div>

        </article>
    </main>

</body>

</html>

<script>
    function calcular() {
        var funcionarios = Number(input_qtdFuncionarios.value)
        var horasPerdidas = Number(input_qtdHorasPerdidas.value)
        var horasDiariasTrabalhadas = Number(input_qtdHorasDiariasTrabalhadas.value)
        var diasTrabalhadosMes = Number(input_qtdDiasMesTrabalhados.value)
        var horasTrabalhadasMensal = funcionarios * horasDiariasTrabalhadas * diasTrabalhadosMes 
            var resultadoAbsenteismo = (horasPerdidas / horasTrabalhadasMensal * 100).toFixed(2)
        var mediaAcimaAceitavel = (resultadoAbsenteismo - 4).toFixed(2)
        var mediaAbaixoAceitavel = (4 - resultadoAbsenteismo).toFixed(2)
        var nomeEmpresa = input_nomeEmpresa.value
        var totalDias = (horasPerdidas / 24).toFixed(2)
        var mediaFaltasFuncionario = (totalDias / funcionarios).toFixed(2)
        var mesEscolhido = input_mes.value
        

        if (resultadoAbsenteismo > 4) {
            conteinerResultado.innerHTML = `A ${nomeEmpresa} tem uma taxa de absenteismo de <span style="color: red;">${resultadoAbsenteismo}%</span>.
            <br><br>
            Sua empresa está  <span style="color: red;">${mediaAcimaAceitavel}%</span> acima da média aceitável para uma empresa.
            <br><br>
            Soma de faltas de todos os funcionários no mês de ${mesEscolhido} convertido em dias foram de: ${totalDias} dias.
            <br><br>
            A média de falta por funcionário no mês de ${mesEscolhido} foi de: ${mediaFaltasFuncionario} dias.`
        } else {
            conteinerResultado.innerHTML = `A ${nomeEmpresa} tem uma taxa de absenteismo de <span style="color: greenyellow;">${resultadoAbsenteismo}%</span>.
            <br><br>
            Sua empresa está  <span style="color: greenyellow;">${mediaAbaixoAceitavel}%</span> abaixo da média aceitável para uma empresa.
            <br><br>
            Soma de faltas de todos os funcionários no mês de ${mesEscolhido} convertido em dias foram de: ${totalDias}.
            <br><br>
            A média de falta por funcionário no mês de ${mesEscolhido} foi de: ${mediaFaltasFuncionario}.`
        }
    }


</script>